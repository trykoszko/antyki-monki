{"version":3,"sources":["webpack:///./src/templates/CategoryPage.js"],"names":["StyledCategoryWrapper","styled","div","theme","rwd","StyledCategoryListWrapper","StyledCategoryTitle","h1","StyledCategoryProductListWrapper","StyledCategoryCatListWrapper","fonts","serif","StyledCategory","Link","props","current","css","StyledInfo","colors","lgrey","p","StyledProductImage","Image","StyledProductLink","StyledProductTitle","h4","StyledProductPrice","golden","CategoryPageTemplate","data","category","pageContext","id","allCategories","products","title","name","withTopOffset","withBottomOffset","edges","length","map","key","node","to","slug","fluid","acf","product_gallery","localFile","childImageSharp","dangerouslySetInnerHTML","__html","olx_attributes","price","count","undefined"],"mappings":"8FAAA,6HAYMA,EAAwBC,IAAOC,IAAV,0FAAGD,CAAH,oIAIhBE,IAAMC,IAAI,YAOfC,EAA4BJ,IAAOC,IAAV,8FAAGD,CAAH,qHAQpBE,IAAMC,IAAI,YASfE,EAAsBL,IAAOM,GAAV,wFAAGN,CAAH,wEAKdE,IAAMC,IAAI,YAKfI,EAAmCP,IAAOC,IAAV,qGAAGD,CAAH,yJAW3BE,IAAMC,IAAI,YAQfK,EAA+BR,IAAOC,IAAV,iGAAGD,CAAH,kFACjBE,IAAMO,MAAMC,MAElBR,IAAMC,IAAI,YAQfQ,EAAiBX,YAAOY,QAAV,mFAAGZ,CAAH,SAChB,SAAAa,GAAK,OACLA,EAAMC,QACFC,YADJ,iDAKI,MAcFC,GAXgBhB,YAAOY,QAAV,kFAAGZ,CAAH,0HAQUE,IAAMe,OAAOC,OAGvBlB,IAAOmB,EAAV,+EAAGnB,CAAH,yBAIVoB,EAAqBpB,YAAOqB,KAAV,uFAAGrB,CAAH,iDAOlBsB,EAAoBtB,YAAOY,QAAV,sFAAGZ,CAAH,mHAUjBuB,EAAqBvB,IAAOwB,GAAV,wFAAGxB,CAAH,MAElByB,EAAqBzB,IAAOmB,EAAV,wFAAGnB,CAAH,iFAKFE,IAAMe,OAAOS,QA6EpBC,UAzEc,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,KAMtBC,GAN6C,EAAjBC,YAC5BC,GAKqCH,EAArCC,UAAUG,EAA2BJ,EAA3BI,cAAeC,EAAYL,EAAZK,SAE1BC,EAAQL,EAASM,KAEvB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKD,MAAOA,IACZ,kBAAC,IAAD,CAAWE,eAAa,EAACC,kBAAgB,GACvC,kBAACtC,EAAD,KACE,kBAACQ,EAAD,KACE,kBAACF,EAAD,mBAAiC6B,GAChCD,GAAYA,EAASK,OAASL,EAASK,MAAMC,OAAS,EACrD,4BACGN,EAASK,MAAME,KAAI,WAASC,GAAT,IAAEC,EAAF,EAAEA,KAAF,OAClB,wBAAID,IAAKA,GACP,kBAACnB,EAAD,CAAmBqB,GAAE,IAAMD,EAAKE,MAC9B,kBAACxB,EAAD,CACEyB,MACEH,EAAKI,IAAIC,gBAAgB,GAAGC,UAAUC,gBACnCJ,QAGP,kBAACtB,EAAD,CACE2B,wBAAyB,CAACC,OAAQT,EAAKR,SAEzC,kBAACT,EAAD,KACGiB,EAAKI,IAAIM,eAAeC,MAD3B,YAQR,kBAACrC,EAAD,2CAGJ,kBAACR,EAAD,KACE,kBAACH,EAAD,uBACC2B,GACC,kBAAC5B,EAAD,KACE,4BACG4B,EAAcM,MAAME,KAAI,WAASC,GAAS,IAAhBC,EAAe,EAAfA,KACzB,OACEA,EAAKY,MAAQ,GACX,wBAAIb,IAAKA,GACP,kBAAC9B,EAAD,CACEG,QACE4B,EAAKE,OAASf,EAASe,KAAO,YAASW,EAEzCZ,GAAE,cAAgBD,EAAKE,MAEtBF,EAAKP","file":"component---src-templates-category-page-js-1275ae295c7d7b194635.js","sourcesContent":["/* eslint-disable */\nimport React from 'react'\nimport {graphql, Link} from 'gatsby'\nimport Image from 'gatsby-image'\nimport styled, {css} from 'styled-components'\n\nimport SEO from '../components/SEO'\nimport Layout from '../components/Layout'\nimport Container from '../components/Container'\n\nimport {theme} from '../components/GlobalStyle/variables'\n\nconst StyledCategoryWrapper = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n\n  @media ${theme.rwd('desktop')} {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n  }\n`\n\nconst StyledCategoryListWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  li {\n    margin-bottom: 10px;\n  }\n\n  @media ${theme.rwd('desktop')} {\n    flex-direction: row;\n\n    li {\n      margin-bottom: 15px;\n    }\n  }\n`\n\nconst StyledCategoryTitle = styled.h1`\n  font-size: 1.5rem;\n\n  margin-bottom: 20px;\n\n  @media ${theme.rwd('desktop')} {\n    margin-bottom: 40px;\n  }\n`\n\nconst StyledCategoryProductListWrapper = styled.div`\n  li {\n    width: 100%;\n\n    display: flex;\n    flex-direction: row;\n    align-items: stretch;\n\n    margin-bottom: 20px;\n  }\n\n  @media ${theme.rwd('desktop')} {\n    flex-direction: row;\n    flex: 0 1 75%;\n\n    font-size: 1.25rem;\n  }\n`\n\nconst StyledCategoryCatListWrapper = styled.div`\n  font-family: ${theme.fonts.serif};\n\n  @media ${theme.rwd('desktop')} {\n    flex-direction: row;\n    flex: 0 1 25%;\n\n    font-size: 1.1rem;\n  }\n`\n\nconst StyledCategory = styled(Link)`\n  ${props =>\n    props.current\n      ? css`\n          font-weight: bold;\n          text-decoration: underline;\n        `\n      : ''}\n`\n\nconst StyledProduct = styled(Link)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n\n  width: 100%;\n\n  border-bottom: 1px solid ${theme.colors.lgrey};\n`\n\nconst StyledInfo = styled.p`\n  font-size: 1.25rem;\n`\n\nconst StyledProductImage = styled(Image)`\n  width: 100px;\n  height: 100px;\n\n  margin-right: 20px;\n`\n\nconst StyledProductLink = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: flex-start;\n\n  height: 100px;\n`\n\nconst StyledProductTitle = styled.h4``\n\nconst StyledProductPrice = styled.p`\n  font-size: 1rem;\n\n  margin-top: 10px;\n  padding: 5px;\n  background-color: ${theme.colors.golden};\n  color: white;\n`\n\nconst CategoryPageTemplate = ({data, pageContext}) => {\n  const {id} = pageContext\n\n  // console.log('pageContext', pageContext)\n  // console.log('data', data)\n\n  const {category, allCategories, products} = data\n\n  const title = category.name\n\n  return (\n    <Layout>\n      <SEO title={title} />\n      <Container withTopOffset withBottomOffset>\n        <StyledCategoryWrapper>\n          <StyledCategoryProductListWrapper>\n            <StyledCategoryTitle>Kategoria: {title}</StyledCategoryTitle>\n            {products && products.edges && products.edges.length > 0 ? (\n              <ul>\n                {products.edges.map(({node}, key) => (\n                  <li key={key}>\n                    <StyledProductLink to={`/${node.slug}`}>\n                      <StyledProductImage\n                        fluid={\n                          node.acf.product_gallery[0].localFile.childImageSharp\n                            .fluid\n                        }\n                      />\n                      <StyledProductTitle\n                        dangerouslySetInnerHTML={{__html: node.title}}\n                      />\n                      <StyledProductPrice>\n                        {node.acf.olx_attributes.price},-\n                      </StyledProductPrice>\n                    </StyledProductLink>\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <StyledInfo>Brak produkt√≥w w danej kategorii.</StyledInfo>\n            )}\n          </StyledCategoryProductListWrapper>\n          <StyledCategoryCatListWrapper>\n            <StyledCategoryTitle>Inne kategorie</StyledCategoryTitle>\n            {allCategories && (\n              <StyledCategoryListWrapper>\n                <ul>\n                  {allCategories.edges.map(({node}, key) => {\n                    return (\n                      node.count > 0 && (\n                        <li key={key}>\n                          <StyledCategory\n                            current={\n                              node.slug === category.slug ? 'true' : undefined\n                            }\n                            to={`/kategoria/${node.slug}`}\n                          >\n                            {node.name}\n                          </StyledCategory>\n                        </li>\n                      )\n                    )\n                  })}\n                </ul>\n              </StyledCategoryListWrapper>\n            )}\n          </StyledCategoryCatListWrapper>\n        </StyledCategoryWrapper>\n      </Container>\n    </Layout>\n  )\n}\n\nexport default CategoryPageTemplate\n\nexport const pageQuery = graphql`\n  query CategoryQuery($id: Int!) {\n    category: wordpressCategory(wordpress_id: {eq: $id}) {\n      wordpress_id\n      name\n      slug\n      description\n    }\n    allCategories: allWordpressCategory {\n      edges {\n        node {\n          wordpress_id\n          wordpress_parent\n          name\n          slug\n          count\n        }\n      }\n    }\n    products: allWordpressWpAntyki(\n      filter: {categories: {elemMatch: {wordpress_id: {eq: $id}}}}\n      sort: {fields: title, order: ASC}\n    ) {\n      edges {\n        node {\n          id\n          wordpress_id\n          title\n          slug\n          acf {\n            olx_attributes {\n              price\n            }\n            product_gallery {\n              localFile {\n                childImageSharp {\n                  fluid(\n                    maxWidth: 250\n                    maxHeight: 250\n                    fit: CONTAIN\n                    background: \"#ededed\"\n                  ) {\n                    ...GatsbyImageSharpFluid_withWebp_tracedSVG\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}